{"version":3,"sources":["ascii-utils.tsx","Slider.tsx","SliderSection.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["asciiChars","resizeImage","settings","file","maxWidth","reader","FileReader","image","Image","canvas","document","createElement","Promise","ok","no","type","match","onload","readerEvent","width","height","context","getContext","drawImage","resize","src","target","result","readAsDataURL","Error","Slider","title","onChange","label","value","min","max","step","className","SliderSection","specs","setSpecs","onResolutionChange","event","newZoom","parseFloat","zoom","fontSize","toString","slice","resolution","initialState","App","React","useState","ascii","setAscii","currentFile","setCurrentFile","imageFile","newResolution","then","newAscii","data","getImageData","pixels","y","x","pixelIndex","luminance","asciiIndex","Math","floor","length","getAsciiFromCanvas","newFontSize","debounceOnresolutionChange","debounce","spec","accept","myFile","files","style","padding","onClick","navigator","clipboard","writeText","lineHeight","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"6LACMA,EACF,+HA2CSC,EAAc,SAACC,GACxB,IAAMC,EAAOD,EAASC,KAChBC,EAAWF,EAASE,SACpBC,EAAS,IAAIC,WACbC,EAAQ,IAAIC,MACZC,EAASC,SAASC,cAAc,UAmBtC,OAAO,IAAIC,SAA2B,SAACC,EAAIC,GAClCX,EAAKY,KAAKC,MAAM,YAKrBX,EAAOY,OAAS,SAACC,GACbX,EAAMU,OAAS,kBAAMJ,EAxBd,WACX,IAAIM,EAAQZ,EAAMY,MACdC,EAASb,EAAMa,OAEfD,EAAQf,IACRgB,GAAUhB,EAAWe,EACrBA,EAAQf,GAEZgB,GAAU,GAEVX,EAAOU,MAAQA,EACfV,EAAOW,OAASA,EAChB,IAAMC,EAAUZ,EAAOa,WAAW,MAElC,OADO,OAAPD,QAAO,IAAPA,KAASE,UAAUhB,EAAO,EAAG,EAAGY,EAAOC,GAChCX,CACX,CASgCe,GAAU,EAClCjB,EAAMkB,IAAMP,EAAYQ,OAAOC,MACnC,EACAtB,EAAOuB,cAAczB,IARjBW,EAAG,IAAIe,MAAM,gBASrB,GACJ,E,OCpEaC,EAAgC,SAAH,GAQnC,IAPHC,EAAK,EAALA,MACAC,EAAQ,EAARA,SACAC,EAAK,EAALA,MACAC,EAAK,EAALA,MACAC,EAAG,EAAHA,IACAC,EAAG,EAAHA,IACAC,EAAI,EAAJA,KAEA,OACI,sBAAKC,UAAU,iBAAgB,UAC3B,4BAAIP,IACJ,uBACIhB,KAAK,QACLoB,IAAKA,EACLC,IAAKA,EACLE,UAAU,SACVJ,MAAOA,EACPF,SAAUA,EACVK,KAAMA,IAEV,iCAASJ,MAGrB,EClCaM,EAMR,SAAH,GAAiD,IAA3CC,EAAK,EAALA,MAAOC,EAAQ,EAARA,SAAUC,EAAkB,EAAlBA,mBACrB,OACI,qCACI,cAAC,EAAM,CACHX,MAAO,QACPC,SAAU,SAACW,GACP,IAAMC,EAAUC,WAAWF,EAAMjB,OAAOQ,OACxCO,EAAS,2BAAKD,GAAK,IAAEM,KAAMF,IAC/B,EACAV,MAAOM,EAAMM,KACbX,IAAK,EACLC,IAAK,GACLC,KAAM,IACNJ,MAAOO,EAAMO,SAASC,WAAWC,MAAM,EAAG,KAG9C,cAAC,EAAM,CACHlB,MAAO,mBACPC,SAAU,SAACW,GACP,IAAMO,EAAaL,WAAWF,EAAMjB,OAAOQ,OAC3CQ,EAAmBQ,EACvB,EACAhB,MAAOM,EAAMU,WACbf,IAAK,EACLC,IAAK,IACLH,MAAOO,EAAMU,WAAWF,WAAWC,MAAM,EAAG,OAI5D,ECvBME,EAAe,CACjBJ,SAAU,GACVG,WAAY,IACZ/B,MAZa,IAab2B,KAAM,GAmFKM,EAhFO,WAClB,MAA0BC,IAAMC,SAAS,IAAG,mBAArCC,EAAK,KAAEC,EAAQ,KACtB,EAAsCH,IAAMC,WAAgB,mBAArDG,EAAW,KAAEC,EAAc,KAClC,EAA0BL,IAAMC,SAAqBH,GAAa,mBAA3DX,EAAK,KAAEC,EAAQ,KAEhBC,EAAqB,SAACiB,EAAiBC,GACpCD,GAIL1D,EAAY,CACRE,KAAMwD,EACNvD,SAAUwD,IACXC,MAAK,SAACpD,GACL,IAAMqD,EHnBgB,SAACrD,GAC/B,IAAMY,EAAUZ,EAAOa,WAAW,MAC5ByC,EAAc,OAAP1C,QAAO,IAAPA,OAAO,EAAPA,EAAS2C,aAAa,EAAG,EAAGvD,EAAOU,MAAOV,EAAOW,QAE9D,IAAK2C,EACD,MAAO,GAMX,IAHA,IAAME,EAASF,EAAKA,KAEhBR,EAAQ,GACHW,EAAI,EAAGA,EAAIH,EAAK3C,OAAQ8C,IAAK,CAClC,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAK5C,MAAOgD,IAAK,CACjC,IAAMC,EAAoC,GAAtBF,EAAIH,EAAK5C,MAAQgD,GAC/BE,GACDJ,EAAOG,GAAcH,EAAOG,EAAa,GAAKH,EAAOG,EAAa,IAAM,EACvEE,EAAaC,KAAKC,MAAOH,EAAY,KAAQrE,EAAWyE,OAAS,IACvElB,GAASvD,EAAWsE,EACxB,CACAf,GAAS,IACb,CACA,OAAOA,CACX,CGH6BmB,CAAmBjE,GAC9BkE,EAAcnC,EAAMrB,MAAQyC,EAElCnB,EAAS,2BACFD,GAAK,IACRO,SAAU4B,EACVzB,WAAYU,KAEhBJ,EAASM,EACb,GACJ,EAEMc,EAA6BC,KAC/B,SAAC1E,EAAY2E,GAAI,OAAKpC,EAAmBvC,EAAM2E,EAAK,GACpD,GAGJ,OACI,sBAAKxC,UAAU,iBAAgB,UAC3B,sBAAKA,UAAU,OAAM,UACjB,8BACI,uBACIvB,KAAK,OACLgE,OAAO,UACP/C,SAAU,SAACW,GAAW,IAAD,EACXqC,EAA2B,QAArB,EAAGrC,EAAMjB,OAAOuD,aAAK,aAAlB,EAAqB,GAC/BD,IAGLtB,EAAesB,GACfJ,EAA2BI,EAAQ7B,EAAaD,YACpD,MAGR,cAAC,EAAa,CACVV,MAAOA,EACPC,SAAUA,EACVC,mBAAoB,SAACQ,GACZO,GAGLmB,EAA2BnB,EAAaP,EAC5C,IAGJ,qBAAKgC,MAAO,CAAEC,QAAS,QAAS,SAC5B,wBACIC,QAAS,WACLC,UAAUC,UAAUC,UAAUhC,EAClC,EAAE,SACD,2BAIb,8BACI,qBACIjB,UAAU,QACV4C,MAAO,CACHnC,SAAS,GAAD,OAAKP,EAAMM,KAAON,EAAMO,SAAQ,MACxCyC,WAAY,GACd,mBAAKjC,SAI3B,ECxFekC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9B,MAAK,YAAkD,IAA/C+B,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAM,EAANA,OAAQC,EAAO,EAAPA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,EACV,GAEJ,ECJaO,IAASC,WAAWxF,SAASyF,eAAe,SACpDC,OACH,cAAC,IAAMC,WAAU,UACf,cAAC,EAAG,OAORZ,G","file":"static/js/main.b788cacb.chunk.js","sourcesContent":["// const asciiChars = '+::`..';\nconst asciiChars =\n    '$@WgBMQNR8%0&đD#OGKEHdbmSqpAPwU54ZX96f23kVhaeFCj1IoJyst7}{YnulzriTx?][*Lcv×<>)(/+=÷“”!;:‘,’-.';\n\n// const asciiChars = '▓▒▒░░';\n// const asciiChars = ['8 ', 'M ', '0 ', '# ', '$ ', '| ', '* ', '+ ', ': ', ': ', '` ', '. ', '. '];\n\n// const asciiChars = '$@B%8&WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~<>i!lI;:,\"^`\\'.';\n// const asciiChars = '+-:`  ';\n['8 ', 'M ', '0 ', '# ', '$ ', '| ', '* ', '+ ', ': ', ': ', '` ', '. ', '. '];\n\n// const asciiChars = '8M0|*|::`,.';\n\n// const asciiChars = '8M0#$|*|::`,.';\n// const asciiChars = '#8?0+:.,';\n// const asciiChars = '8#|:.';\n\nexport const getAsciiFromCanvas = (canvas: HTMLCanvasElement): string => {\n    const context = canvas.getContext('2d');\n    const data = context?.getImageData(0, 0, canvas.width, canvas.height);\n\n    if (!data) {\n        return '';\n    }\n\n    const pixels = data.data;\n\n    let ascii = '';\n    for (let y = 0; y < data.height; y++) {\n        for (let x = 0; x < data.width; x++) {\n            const pixelIndex = (y * data.width + x) * 4;\n            const luminance =\n                (pixels[pixelIndex] + pixels[pixelIndex + 1] + pixels[pixelIndex + 2]) / 3;\n            const asciiIndex = Math.floor((luminance / 255) * (asciiChars.length - 1));\n            ascii += asciiChars[asciiIndex];\n        }\n        ascii += '\\n';\n    }\n    return ascii;\n};\n\ninterface IResizeImageOptions {\n    maxWidth: number;\n    file: File;\n}\nexport const resizeImage = (settings: IResizeImageOptions): Promise<HTMLCanvasElement> => {\n    const file = settings.file;\n    const maxWidth = settings.maxWidth;\n    const reader = new FileReader();\n    const image = new Image();\n    const canvas = document.createElement('canvas');\n\n    const resize = () => {\n        let width = image.width;\n        let height = image.height;\n\n        if (width > maxWidth) {\n            height *= maxWidth / width;\n            width = maxWidth;\n        }\n        height *= 0.6;\n\n        canvas.width = width;\n        canvas.height = height;\n        const context = canvas.getContext('2d');\n        context?.drawImage(image, 0, 0, width, height);\n        return canvas;\n    };\n\n    return new Promise<HTMLCanvasElement>((ok, no) => {\n        if (!file.type.match(/image.*/)) {\n            no(new Error('Not an image'));\n            return;\n        }\n\n        reader.onload = (readerEvent: any) => {\n            image.onload = () => ok(resize());\n            image.src = readerEvent.target.result;\n        };\n        reader.readAsDataURL(file);\n    });\n};\n","import React from 'react';\n\ninterface SliderProps {\n    title: string;\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    label: string;\n    // eslint-disable-next-line\n    value: any;\n    min: number;\n    max: number;\n    step?: number;\n}\n\nexport const Slider: React.FC<SliderProps> = ({\n    title,\n    onChange,\n    label,\n    value,\n    min,\n    max,\n    step,\n}) => {\n    return (\n        <div className=\"slidecontainer\">\n            <p>{title}</p>\n            <input\n                type=\"range\"\n                min={min}\n                max={max}\n                className=\"slider\"\n                value={value}\n                onChange={onChange}\n                step={step}\n            />\n            <output>{label}</output>\n        </div>\n    );\n};\n","import { Slider } from './Slider';\nimport React from 'react';\n\nexport const SliderSection: React.FC<{\n    // eslint-disable-next-line\n    specs: any;\n    // eslint-disable-next-line\n    setSpecs: (state: any) => void;\n    onResolutionChange: (newResolution: number) => void;\n}> = ({ specs, setSpecs, onResolutionChange }) => {\n    return (\n        <>\n            <Slider\n                title={'zoom:'}\n                onChange={(event) => {\n                    const newZoom = parseFloat(event.target.value);\n                    setSpecs({ ...specs, zoom: newZoom });\n                }}\n                value={specs.zoom}\n                min={1}\n                max={10}\n                step={0.25}\n                label={specs.fontSize.toString().slice(0, 5)}\n            />\n\n            <Slider\n                title={'characters wide:'}\n                onChange={(event) => {\n                    const resolution = parseFloat(event.target.value);\n                    onResolutionChange(resolution);\n                }}\n                value={specs.resolution}\n                min={5}\n                max={500}\n                label={specs.resolution.toString().slice(0, 5)}\n            />\n        </>\n    );\n};\n","import './index.css';\nimport React from 'react';\nimport debounce from 'lodash.debounce';\nimport { resizeImage, getAsciiFromCanvas } from './ascii-utils';\nimport { SliderSection } from './SliderSection';\n\nconst ARTWIDTH = 700;\n\ninterface SpecsState {\n    fontSize: number;\n    resolution: number;\n    width: number;\n    zoom: number;\n}\n\nconst initialState = {\n    fontSize: 30,\n    resolution: 100,\n    width: ARTWIDTH,\n    zoom: 1,\n};\n\nconst App: React.FC = () => {\n    const [ascii, setAscii] = React.useState('');\n    const [currentFile, setCurrentFile] = React.useState<File>();\n    const [specs, setSpecs] = React.useState<SpecsState>(initialState);\n\n    const onResolutionChange = (imageFile: File, newResolution: number) => {\n        if (!imageFile) {\n            return;\n        }\n\n        resizeImage({\n            file: imageFile,\n            maxWidth: newResolution,\n        }).then((canvas) => {\n            const newAscii = getAsciiFromCanvas(canvas);\n            const newFontSize = specs.width / newResolution;\n\n            setSpecs({\n                ...specs,\n                fontSize: newFontSize,\n                resolution: newResolution,\n            });\n            setAscii(newAscii);\n        });\n    };\n\n    const debounceOnresolutionChange = debounce(\n        (file: File, spec) => onResolutionChange(file, spec),\n        0,\n    );\n\n    return (\n        <div className=\"flex-container\">\n            <div className=\"menu\">\n                <div>\n                    <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={(event) => {\n                            const myFile = event.target.files?.[0];\n                            if (!myFile) {\n                                return;\n                            }\n                            setCurrentFile(myFile);\n                            debounceOnresolutionChange(myFile, initialState.resolution);\n                        }}\n                    />\n                </div>\n                <SliderSection\n                    specs={specs}\n                    setSpecs={setSpecs}\n                    onResolutionChange={(resolution) => {\n                        if (!currentFile) {\n                            return;\n                        }\n                        debounceOnresolutionChange(currentFile, resolution);\n                    }}\n                />\n\n                <div style={{ padding: '20px' }}>\n                    <button\n                        onClick={() => {\n                            navigator.clipboard.writeText(ascii);\n                        }}>\n                        {'save to clipboard'}\n                    </button>\n                </div>\n            </div>\n            <pre>\n                <div\n                    className=\"ascii\"\n                    style={{\n                        fontSize: `${specs.zoom * specs.fontSize}px`,\n                        lineHeight: 1,\n                    }}>{`${ascii}`}</div>\n            </pre>\n        </div>\n    );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}