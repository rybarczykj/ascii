{"version":3,"sources":["ascii-utils.tsx","Slider.tsx","SliderSection.tsx","Dropdown.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["ASCIICHARS","resizeImage","settings","file","maxWidth","reader","FileReader","image","Image","canvas","document","createElement","Promise","ok","no","type","match","onload","readerEvent","width","height","context","getContext","drawImage","resize","src","target","result","readAsDataURL","Error","Slider","title","onChange","label","value","min","max","step","className","SliderSection","specs","onSpecsChange","onResolutionChange","event","newZoom","parseFloat","zoom","fontSize","toString","slice","resolution","DropdownMenu","selectedOption","onOptionChange","htmlFor","id","newOption","map","char","index","initialState","App","React","useState","ascii","setAscii","currentFile","setCurrentFile","setSpecs","palette","setPalette","imageFile","newResolution","then","newAscii","asciiChars","data","getImageData","pixels","y","x","pixelIndex","luminance","Math","floor","length","getAsciiFromCanvas","newFontSize","debounceOnresolutionChange","debounce","accept","myFile","files","Dropdown","option","onClick","navigator","clipboard","writeText","style","lineHeight","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.a435a7e5.chunk.js","sourcesContent":["// const asciiChars = '+::`..';\n// const asciiChars =\n//     '$@WgBMQNR8%0&đD#OGKEHdbmSqpAPwU54ZX96f23kVhaeFCj1IoJyst7}{YnulzriTx?][*Lcv×<>)(/+=÷“”!;:‘,’-.';\n\n// const asciiChars = '▓▒▒░░';\n// const asciiChars = ['8 ', 'M ', '0 ', '# ', '$ ', '| ', '* ', '+ ', ': ', ': ', '` ', '. ', '. '];\n\n// const asciiChars = '$@B%8&WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~<>i!lI;:,\"^`\\'.';\n// const asciiChars = '+-:`  ';\n['8 ', 'M ', '0 ', '# ', '$ ', '| ', '* ', '+ ', ': ', ': ', '` ', '. ', '. '];\n\nexport const ASCIICHARS = [\n    '8M0|*|::`,.',\n    '+::`..',\n    '+-:`  ',\n    '▓▒▒░░',\n    '$@B%8&WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~<>i!lI;:,\"^`\\'.',\n    '$@WgBMQNR8%0&đD#OGKEHdbmSqpAPwU54ZX96f23kVhaeFCj1IoJyst7}{YnulzriTx?][*Lcv×<>)(/+=÷“”!;:‘,’-.',\n];\n\n// const asciiChars = '8M0#$|*|::`,.';\n// const asciiChars = '#8?0+:.,';\n// const asciiChars = '8#|:.';\n\nexport const getAsciiFromCanvas = (canvas: HTMLCanvasElement, asciiChars: string): string => {\n    const context = canvas.getContext('2d');\n    const data = context?.getImageData(0, 0, canvas.width, canvas.height);\n\n    if (!data) {\n        return '';\n    }\n\n    const pixels = data.data;\n\n    let ascii = '';\n    for (let y = 0; y < data.height; y++) {\n        for (let x = 0; x < data.width; x++) {\n            const pixelIndex = (y * data.width + x) * 4;\n            const luminance =\n                (pixels[pixelIndex] + pixels[pixelIndex + 1] + pixels[pixelIndex + 2]) / 3;\n            const asciiIndex = Math.floor((luminance / 255) * (asciiChars.length - 1));\n            ascii += asciiChars[asciiIndex];\n        }\n        ascii += '\\n';\n    }\n    return ascii;\n};\n\ninterface IResizeImageOptions {\n    maxWidth: number;\n    file: File;\n}\nexport const resizeImage = (settings: IResizeImageOptions): Promise<HTMLCanvasElement> => {\n    const file = settings.file;\n    const maxWidth = settings.maxWidth;\n    const reader = new FileReader();\n    const image = new Image();\n    const canvas = document.createElement('canvas');\n\n    const resize = () => {\n        let width = image.width;\n        let height = image.height;\n\n        if (width > maxWidth) {\n            height *= maxWidth / width;\n            width = maxWidth;\n        }\n        height *= 0.6;\n\n        canvas.width = width;\n        canvas.height = height;\n        const context = canvas.getContext('2d');\n        context?.drawImage(image, 0, 0, width, height);\n        return canvas;\n    };\n\n    return new Promise<HTMLCanvasElement>((ok, no) => {\n        if (!file.type.match(/image.*/)) {\n            no(new Error('Not an image'));\n            return;\n        }\n\n        reader.onload = (readerEvent: any) => {\n            image.onload = () => ok(resize());\n            image.src = readerEvent.target.result;\n        };\n        reader.readAsDataURL(file);\n    });\n};\n","import React from 'react';\n\ninterface SliderProps {\n    title: string;\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    label: string;\n    // eslint-disable-next-line\n    value: any;\n    min: number;\n    max: number;\n    step?: number;\n}\n\nexport const Slider: React.FC<SliderProps> = ({\n    title,\n    onChange,\n    label,\n    value,\n    min,\n    max,\n    step,\n}) => {\n    return (\n        <div className=\"slidecontainer\">\n            <p>{title}</p>\n            <input\n                type=\"range\"\n                min={min}\n                max={max}\n                className=\"slider\"\n                value={value}\n                onChange={onChange}\n                step={step}\n            />\n            <output>{label}</output>\n        </div>\n    );\n};\n","import { Slider } from './Slider';\nimport React from 'react';\nimport { SpecsState } from './App';\n\nexport const SliderSection: React.FC<{\n    // eslint-disable-next-line\n    specs: any;\n    onSpecsChange: (specs: SpecsState) => void;\n    onResolutionChange: (resolution: number) => void;\n}> = ({ specs, onSpecsChange, onResolutionChange }) => {\n    return (\n        <>\n            <Slider\n                title={'zoom:'}\n                onChange={(event) => {\n                    const newZoom = parseFloat(event.target.value);\n                    onSpecsChange({ ...specs, zoom: newZoom });\n                }}\n                value={specs.zoom}\n                min={1}\n                max={10}\n                step={0.25}\n                label={specs.fontSize.toString().slice(0, 4)}\n            />\n\n            <Slider\n                title={'characters wide:'}\n                onChange={(event) => {\n                    const resolution = parseFloat(event.target.value);\n                    onResolutionChange(resolution);\n                }}\n                value={specs.resolution}\n                min={5}\n                max={500}\n                label={specs.resolution.toString().slice(0, 5)}\n            />\n        </>\n    );\n};\n","import React from 'react';\n\nexport const ASCIICHARS = [\n    'M80*|:,.` ',\n    '$H2a?+.   ',\n    '8+::`..',\n    '+-:`  ',\n    '▓▒▒░░',\n    '$@WgBMQNR8%0&đD#OGKEHdbmSqpAPwU54ZX96f23kVhaeFCj1IoJyst7}{YnulzriTx?][*Lcv×<>)(/+=÷“”!;:‘,’-.',\n];\n\ninterface DropdownMenuProps {\n    selectedOption: string;\n    onOptionChange: (option: string) => void;\n}\n\nconst DropdownMenu: React.FC<DropdownMenuProps> = ({ selectedOption, onOptionChange }) => {\n    const handleOptionChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n        const newOption = event.target.value;\n        onOptionChange(newOption);\n    };\n\n    return (\n        <div className=\"menu-entry\">\n            <label htmlFor=\"options\">palette:</label>\n            <select\n                id=\"options\"\n                value={selectedOption}\n                onChange={handleOptionChange}\n                className=\"dropdown\">\n                <option value=\"\">--Please choose an option--</option>\n                {ASCIICHARS.map((char, index) => (\n                    <option key={index} value={char}>\n                        {char}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n};\n\nexport default DropdownMenu;\n","import './index.css';\nimport React from 'react';\nimport debounce from 'lodash.debounce';\nimport { resizeImage, getAsciiFromCanvas, ASCIICHARS } from './ascii-utils';\nimport { SliderSection } from './SliderSection';\nimport DropdownMenu from './Dropdown';\n\nconst ARTWIDTH = 700;\n\nexport interface SpecsState {\n    fontSize: number;\n    resolution: number;\n    width: number;\n    zoom: number;\n}\n\nconst initialState = {\n    fontSize: 30,\n    resolution: 100,\n    width: ARTWIDTH,\n    zoom: 1,\n};\n\nconst App: React.FC = () => {\n    const [ascii, setAscii] = React.useState('');\n    const [currentFile, setCurrentFile] = React.useState<File>();\n    const [specs, setSpecs] = React.useState<SpecsState>(initialState);\n\n    const [palette, setPalette] = React.useState<string>(ASCIICHARS[0]);\n\n    const onResolutionChange = (imageFile: File, newResolution: number, palette: string) => {\n        resizeImage({\n            file: imageFile,\n            maxWidth: newResolution,\n        }).then((canvas) => {\n            const newAscii = getAsciiFromCanvas(canvas, palette);\n            const newFontSize = specs.width / newResolution;\n\n            setSpecs({\n                ...specs,\n                fontSize: newFontSize,\n                resolution: newResolution,\n            });\n            setAscii(newAscii);\n        });\n    };\n\n    const debounceOnresolutionChange = debounce(\n        (file: File, resolution, palette) => onResolutionChange(file, resolution, palette),\n        0,\n    );\n\n    return (\n        <div className=\"flex-container\">\n            <div className=\"menu\">\n                <div className=\"menu-entry\">\n                    <label htmlFor=\"file-upload\" className=\"clickable-button\">\n                        Upload an image\n                    </label>\n                    <input\n                        id=\"file-upload\"\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={(event) => {\n                            const myFile = event.target.files?.[0];\n                            if (!myFile) {\n                                return;\n                            }\n                            setCurrentFile(myFile);\n                            debounceOnresolutionChange(myFile, initialState.resolution, palette);\n                        }}\n                    />\n                </div>\n                <SliderSection\n                    specs={specs}\n                    onSpecsChange={(specs) => {\n                        setSpecs(specs);\n                    }}\n                    onResolutionChange={(resolution) => {\n                        if (!currentFile) {\n                            return;\n                        }\n                        debounceOnresolutionChange(currentFile, resolution, palette);\n                    }}\n                />\n                <DropdownMenu\n                    selectedOption={palette}\n                    onOptionChange={(option) => {\n                        if (!currentFile) {\n                            return;\n                        }\n                        debounceOnresolutionChange(currentFile, specs.resolution, option);\n                        setPalette(option);\n                    }}\n                />\n                <div className=\"menu-entry\">\n                    <label htmlFor=\"clipboard-button\" className=\"clickable-button\">\n                        Save to clipboard\n                    </label>\n\n                    <button\n                        id=\"clipboard-button\"\n                        className=\"hidden-button\"\n                        onClick={() => {\n                            navigator.clipboard.writeText(ascii);\n                        }}>\n                        {'save to clipboard'}\n                    </button>\n                </div>\n            </div>\n            <pre>\n                <div\n                    className=\"ascii\"\n                    style={{\n                        fontSize: `${specs.zoom * specs.fontSize}px`,\n                        lineHeight: 1,\n                    }}>{`${ascii}`}</div>\n            </pre>\n        </div>\n    );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}