{"version":3,"sources":["ui/Dropdown/Dropdown.tsx","ui/Slider/Slider.tsx","ui/SliderSection/SliderSection.tsx","ascii-utils.tsx","video/process-video.ts","ui/Menu/DragDropFiles.tsx","ui/Menu/Menu.tsx","video/asciiVideo.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["Dropdown","label","options","selectedOption","onOptionChange","className","onChange","option","value","styles","control","baseStyles","state","minHeight","alignItems","width","menuIsOpen","borderRadius","padding","dropdownIndicator","input","components","IndicatorSeparator","menuPosition","find","Slider","title","min","max","step","disabled","Error","normalizedValue","Math","floor","leftDashes","repeat","rightDashes","type","e","parseFloat","target","SliderSection","specs","onSpecsChange","onResolutionChange","contrast","onContrastChange","resolution","toString","slice","newZoom","zoom","newWeight","weight","newContrast","newKerning","kerning","getAsciiFromContext","context","asciiChars","inverse","imageData","getImageData","canvas","height","greyscale","getGreyscale","ascii","getAsciiFromGreyscale","data","pixels","y","greyscaleRow","x","pixelIndex","luminance","push","length","contrastedLuminance","asciiIndex","processVideoFrames","video","palette","asciiResolution","isColorInverted","onVideoFramesChange","Promise","resolve","onloadedmetadata","document","createElement","getContext","willReadFrequently","frames","aspectRatio","videoWidth","videoHeight","processFrame","drawImage","frameAscii","paused","ended","currentTime","duration","setTimeout","play","DragDropFiles","children","onDrop","preventDefault","stopPropagation","dataTransfer","file","files","onDragOver","ASCIICHARS","asciiOptions","map","char","Menu","onCopy","onImageUpload","onVideoUpload","onPaletteChange","onColorInvertedToggle","imageUploadHandler","imageFile","heic2any","blob","toType","then","convertedBlob","convertedFile","File","name","replace","error","console","htmlFor","id","accept","event","myFile","videoFile","Fonts","font","fontFamily","checked","onClick","MenuContainer","props","onAsciiChange","React","useState","currentFile","setCurrentFile","isAsciiVideo","setIsAsciiVideo","selectedPalette","setSelectedPalette","setInvert","setContrast","useRef","updateAscii","isVideo","resetLookups","src","URL","createObjectURL","settings","maxWidth","reader","FileReader","image","Image","ok","no","match","onload","readerEvent","maxHeight","resize","result","readAsDataURL","resizeImage","current","newAscii","debouncedOnResolutionChange","debounce","debouncedOnContrastChange","newPalette","AsciiVideo","asciiFrames","frameRate","currentFrameIndex","setCurrentFrameIndex","useEffect","interval","setInterval","prevIndex","clearInterval","App","setAscii","fontSize","lineHeight","setSpecs","log","navigator","clipboard","writeText","JSON","stringify","style","fontWeight","letterSpacing","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.10de6e09.chunk.js","sourcesContent":["import React from 'react';\nimport CreatableSelect from 'react-select/creatable';\n\ninterface DropdownProps<T> {\n    label: string;\n    options: {\n        value: T;\n        label: T;\n    }[];\n    selectedOption: T;\n    onOptionChange: (option: T) => void;\n}\n\nconst Dropdown = <T,>({\n    label,\n    options,\n    selectedOption,\n    onOptionChange,\n}: DropdownProps<T>): JSX.Element => {\n    return (\n        <div className=\"menu-entry\">\n            <div className=\"menu-entry-label\">{label}:</div>\n            <CreatableSelect\n                options={options}\n                className=\"dropdown\"\n                onChange={(option) => onOptionChange(option?.value || options[0].value)}\n                styles={{\n                    control: (baseStyles, state) => ({\n                        ...baseStyles,\n                        minHeight: '5px !important',\n                        alignItems: 'baseline',\n                        width: state.menuIsOpen ? '200px' : '100px',\n                        borderRadius: '2px',\n                        padding: '0px',\n                    }),\n                    dropdownIndicator: (baseStyles, state) => ({\n                        ...baseStyles,\n                        padding: '0px',\n                    }),\n                    input: (baseStyles, state) => ({\n                        ...baseStyles,\n                        padding: '0px',\n                    }),\n                }}\n                components={{ IndicatorSeparator: () => null }}\n                menuPosition=\"fixed\"\n                value={options.find((option) => option.value === selectedOption)}\n            />\n        </div>\n    );\n};\n\nexport default Dropdown;\n","import React from 'react';\n\ninterface SliderProps {\n    title: string;\n    onChange: (newValue: number) => void;\n    label: string;\n    // eslint-disable-next-line\n    value: any;\n    min: number;\n    max: number;\n    step?: number;\n    disabled?: boolean;\n}\n\nexport const Slider: React.FC<SliderProps> = ({\n    title,\n    onChange,\n    label,\n    value,\n    min,\n    max,\n    step,\n    disabled,\n}) => {\n    const sliderLength = 10;\n    if (value > max || value < min) {\n        throw new Error(`value ${value} is outside of range ${min} to ${max}`);\n    }\n\n    const normalizedValue = Math.floor(((value - min) / (max - min)) * sliderLength);\n\n    const leftDashes = '-'.repeat(normalizedValue);\n    const rightDashes = '-'.repeat(sliderLength - normalizedValue);\n\n    return (\n        <div className=\"slidecontainer\">\n            <p>{title}</p>\n            <div className=\"slider-track\">\n                <input\n                    type=\"range\"\n                    min={min}\n                    max={max}\n                    step={step}\n                    value={value}\n                    onChange={(e) => onChange(parseFloat(e.target.value))}\n                    disabled={disabled}\n                    className=\"slider-input\"\n                />\n                {`<`}\n                <span className=\"slider-dashes\">{leftDashes}</span>\n                <span className=\"slider-asterix\">*</span>\n                <span className=\"slider-dashes\">{rightDashes}</span>\n                {`>`}\n                {/* <output>{value}</output> */}\n            </div>\n        </div>\n    );\n};\n","import { Slider } from '../Slider/Slider';\nimport React from 'react';\nimport { SpecsState } from '../../App';\nimport { on } from 'events';\n\nexport const SliderSection: React.FC<{\n    specs: SpecsState;\n    onSpecsChange: (specs: SpecsState) => void;\n    onResolutionChange: (resolution: number) => void;\n    contrast: number;\n    onContrastChange: (contrast: number) => void;\n}> = ({ specs, onSpecsChange, onResolutionChange, contrast, onContrastChange }) => {\n    // TODO: consider using an exponential scale for resolution\n    return (\n        <>\n            <Slider\n                title={'resolution:'}\n                onChange={(resolution) => {\n                    onResolutionChange(resolution);\n                }}\n                value={specs.resolution}\n                min={5}\n                max={500}\n                label={specs.resolution.toString().slice(0, 5)}\n            />\n\n            <Slider\n                title={'zoom:'}\n                onChange={(newZoom) => {\n                    onSpecsChange({ ...specs, zoom: newZoom });\n                }}\n                value={specs.zoom}\n                min={1}\n                max={10}\n                step={0.25}\n                label={specs.zoom.toString().slice(0, 4)}\n            />\n\n            <Slider\n                title={'weight:'}\n                onChange={(newWeight) => {\n                    onSpecsChange({ ...specs, weight: newWeight });\n                }}\n                value={specs.weight}\n                min={0}\n                max={800}\n                label={specs.weight.toString()}\n            />\n\n            <Slider\n                title={'contrast:'}\n                onChange={(newContrast) => {\n                    onContrastChange(newContrast);\n                }}\n                value={contrast}\n                min={0.1}\n                max={50}\n                step={0.1}\n                label={contrast.toString()}\n            />\n\n            <Slider\n                title={'kerning:'}\n                onChange={(newKerning) => {\n                    onSpecsChange({ ...specs, kerning: newKerning });\n                }}\n                value={specs.kerning}\n                min={-10}\n                max={10}\n                label={specs.kerning.toString()}\n            />\n            {/* <Slider\n                title={'line height:'}\n                onChange={(newLineHeight) => {\n                    onSpecsChange({ ...specs, lineHeight: newLineHeight });\n                }}\n                value={specs.lineHeight}\n                min={0.1}\n                max={200}\n                step={0.1}\n                label={specs.lineHeight.toString()}\n            /> */}\n        </>\n    );\n};\n","// const asciiChars = '+::`..';\n// const asciiChars =\n//     '$@WgBMQNR8%0&đD#OGKEHdbmSqpAPwU54ZX96f23kVhaeFCj1IoJyst7}{YnulzriTx?][*Lcv×<>)(/+=÷“”!;:‘,’-.';\n\n// const asciiChars = '▓▒▒░░';\n// const asciiChars = ['8 ', 'M ', '0 ', '# ', '$ ', '| ', '* ', '+ ', ': ', ': ', '` ', '. ', '. '];\n\n// const asciiChars = '$@B%8&WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~<>i!lI;:,\"^`\\'.';\n// const asciiChars = '+-:`  ';\n['8 ', 'M ', '0 ', '# ', '$ ', '| ', '* ', '+ ', ': ', ': ', '` ', '. ', '. '];\n\n// export const ASCIICHARS = [\n//     '8M0|*|::`,.',\n//     '+::`..',\n//     '+-:`  ',\n//     '▓▒▒░░',\n//     '$@B%8&WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~<>i!lI;:,\"^`\\'.',\n//     '$@WgBMQNR8%0&đD#OGKEHdbmSqpAPwU54ZX96f23kVhaeFCj1IoJyst7}{YnulzriTx?][*Lcv×<>)(/+=÷“”!;:‘,’-.',\n// ];\n\n// const asciiChars = '8M0#$|*|::`,.';\n// const asciiChars = '#8?0+:.,';\n// const asciiChars = '8#|:.';\n\nexport const getAsciiFromContext = (\n    context: CanvasRenderingContext2D,\n    asciiChars: string | string[],\n    inverse = false,\n    contrast?: number,\n): string => {\n    const imageData = context.getImageData(0, 0, context.canvas.width, context.canvas.height);\n    const greyscale = getGreyscale(imageData);\n    const ascii = getAsciiFromGreyscale(greyscale, asciiChars, inverse, contrast);\n    return ascii;\n};\n\nexport const getGreyscale = (data: ImageData): number[][] => {\n    const pixels = data.data;\n\n    const greyscale = [];\n    for (let y = 0; y < data.height; y++) {\n        const greyscaleRow = [];\n        for (let x = 0; x < data.width; x++) {\n            const pixelIndex = (y * data.width + x) * 4;\n            // perceived luminance acccording to https://en.wikipedia.org/wiki/Relative_luminance\n            const luminance =\n                0.2126 * pixels[pixelIndex] +\n                0.7152 * pixels[pixelIndex + 1] +\n                0.0722 * pixels[pixelIndex + 2];\n\n            greyscaleRow.push(luminance);\n        }\n        greyscale.push(greyscaleRow);\n    }\n    return greyscale;\n};\n\nexport const getAsciiFromGreyscale = (\n    greyscale: number[][],\n    asciiChars: string | string[],\n    inverse = false,\n    contrast?: number,\n): string => {\n    let ascii = '';\n\n    // iterate over each row, and each pixel in the row\n    for (let y = 0; y < greyscale.length; y++) {\n        for (let x = 0; x < greyscale[y].length; x++) {\n            const luminance = greyscale[y][x];\n\n            const contrastedLuminance = contrast\n                ? Math.max(Math.min((luminance - 127.5) * contrast, 255), 0)\n                : luminance;\n\n            const asciiIndex = Math.floor((contrastedLuminance / 255) * (asciiChars.length - 1));\n            if (inverse) {\n                ascii += asciiChars[asciiChars.length - asciiIndex - 1];\n            } else {\n                ascii += asciiChars[asciiIndex];\n            }\n        }\n        ascii += '\\n';\n    }\n    return ascii;\n};\n\nconst resize = (image: HTMLImageElement, maxHeight: number, canvas: HTMLCanvasElement) => {\n    let width = image.width;\n    let height = image.height;\n\n    if (height > maxHeight) {\n        width *= maxHeight / height;\n        height = maxHeight;\n    }\n    // 0.6 because the ascii characters are taller than they are wide\n    height *= 0.6;\n\n    canvas.width = width;\n    canvas.height = height;\n    const context = canvas.getContext('2d');\n    context?.drawImage(image, 0, 0, width, height);\n    return canvas;\n};\n\ninterface IResizeImageOptions {\n    maxWidth: number;\n    file: File;\n}\n\n// Returns a Canvas with the image resized to be under MaxHeight\nexport const resizeImage = (settings: IResizeImageOptions): Promise<HTMLCanvasElement> => {\n    const file = settings.file;\n    const maxWidth = settings.maxWidth;\n    const reader = new FileReader();\n    const image = new Image();\n    const canvas = document.createElement('canvas');\n\n    return new Promise<HTMLCanvasElement>((ok, no) => {\n        if (!file.type.match(/image.*/)) {\n            no(new Error('Not an image'));\n            return;\n        }\n\n        reader.onload = (readerEvent: any) => {\n            image.onload = () => ok(resize(image, maxWidth, canvas));\n            image.src = readerEvent.target.result;\n        };\n        reader.readAsDataURL(file);\n    });\n};\n","import { getAsciiFromContext } from '../ascii-utils';\n\nexport const processVideoFrames = async (\n    video: HTMLVideoElement,\n    palette: string | string[],\n    asciiResolution: number,\n    isColorInverted: boolean,\n    onVideoFramesChange: (frame: string[]) => void,\n    contrast: number,\n) => {\n    // Wait for video metadata to load\n    await new Promise<void>((resolve) => {\n        video.onloadedmetadata = () => {\n            resolve();\n        };\n    });\n\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d', {\n        willReadFrequently: true,\n    });\n    if (!context || !video) return;\n\n    const frames: string[] = [];\n\n    const frameRate = 10; // Number of frames per second (adjust this based on performance)\n\n    // Calculate the width and height for processing based on the original video's aspect ratio\n    const aspectRatio = video.videoWidth / video.videoHeight;\n\n    const width = asciiResolution;\n    // 0.6 because the ascii characters are taller than they are wide\n    const height = (0.6 * width) / aspectRatio;\n\n    // Set the canvas dimensions to match the processing size\n    context.canvas.width = width;\n    context.canvas.height = height;\n\n    const processFrame = async () => {\n        context.drawImage(video, 0, 0, width, height);\n        const frameAscii = getAsciiFromContext(context, palette, isColorInverted, contrast);\n        frames.push(frameAscii);\n\n        if (!video.paused && !video.ended && !(video.currentTime >= video.duration)) {\n            setTimeout(processFrame, 1000 / frameRate);\n            video.currentTime += 1 / frameRate;\n        } else {\n            // Video processing is done\n            onVideoFramesChange(frames);\n        }\n    };\n\n    // Start video playback and frame processing\n    video.currentTime = 0;\n    await video.play();\n    processFrame();\n};\n","import React, { ReactElement } from 'react';\n\n// wrapper around children to allow drag and drop of files\nexport const DragDropFiles = ({\n    children,\n    onDrop,\n}: {\n    children: React.ReactNode;\n    onDrop: (file: File) => void;\n}): ReactElement => {\n    const onDropHandler = (e: any) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (e.dataTransfer) {\n            const file = e.dataTransfer.files[0];\n            onDrop(file);\n        }\n    };\n\n    const onDragOverHandler = (e: any) => e.preventDefault();\n\n    return (\n        <div onDrop={onDropHandler} onDragOver={onDragOverHandler}>\n            {children}\n        </div>\n    );\n};\n","import { ReactElement } from 'react';\nimport Dropdown from '../Dropdown/Dropdown';\nimport { SliderSection } from '../SliderSection/SliderSection';\nimport { Font, Fonts, SpecsState } from '../../App';\nimport heic2any from 'heic2any';\nimport React from 'react';\nimport { processVideoFrames } from '../../video/process-video';\nimport { debounce, set, slice } from 'lodash';\nimport { getAsciiFromGreyscale, getGreyscale, resizeImage } from '../../ascii-utils';\nimport './menu.css';\nimport { DragDropFiles } from './DragDropFiles';\n\nexport const ASCIICHARS = [\n    '8M0|*|::`,.',\n    'M80*|:,.` ',\n    '$H2a?+.   ',\n    '8+::`..',\n    '+-:`  ',\n    '▓▒▒░░ ',\n    '░▒▓▔▕▖▗▘▙▚▛▜▝▞▟ ',\n    '░▒▓█▄▀│┤╣║╚╔╗╝┐╩└╦╠┴═┬├╬─┼┘┌¦┼└┴┬├┐',\n    '$@WgBMQNR8%0&đD#OGKEHdbmSqpAPwU54ZX96f23kVhaeFCj1IoJyst7}{YnulzriTx?][*Lcv×<>)(/+=÷“”!;:‘,’-.',\n    ['8 ', 'M ', '0 ', '# ', '$ ', '| ', '* ', '+ ', ': ', ': ', '` ', '. ', '. '],\n];\n\nconst asciiOptions = ASCIICHARS.map((char) => ({ value: char, label: char }));\n\ninterface MenuContainerProps {\n    onAsciiChange: (ascii: string | string[], resolution: number) => void;\n    specs: SpecsState;\n    onSpecsChange: (specs: SpecsState) => void;\n    onCopy: () => void;\n}\n\n// extend MenuContainerProps\ninterface MenuProps extends Omit<MenuContainerProps, 'onAsciiChange'> {\n    onImageUpload: (file: File) => void;\n    onVideoUpload: (video: File) => void;\n    onResolutionChange: (resolution: number) => void;\n    palette: string | string[];\n    onPaletteChange: (palette: string | string[]) => void;\n    isColorInverted: boolean;\n    onColorInvertedToggle: () => void;\n    contrast: number;\n    onContrastChange: (contrast: number) => void;\n    // textColor: string;\n    // onTextColorChange: (color: string) => void;\n    // backgroundColor: string;\n    // onBackgroundColorChange: (color: string) => void;\n}\n\nconst Menu = ({\n    specs,\n    onSpecsChange,\n    onCopy,\n    onImageUpload,\n    onVideoUpload,\n    onResolutionChange,\n    palette,\n    onPaletteChange,\n    isColorInverted,\n    onColorInvertedToggle,\n    contrast,\n    onContrastChange,\n}: // textColor,\n// onTextColorChange,\n// backgroundColor,\n// onBackgroundColorChange,\nMenuProps): ReactElement => {\n    const imageUploadHandler = (imageFile: File) => {\n        if (imageFile.type === 'image/heic') {\n            // Convert HEIC image to JPEG format\n            try {\n                heic2any({\n                    blob: imageFile,\n                    toType: 'image/jpeg',\n                }).then((convertedBlob) => {\n                    const convertedFile = new File(\n                        [convertedBlob as Blob],\n                        imageFile.name.replace('.heic', '.jpg'),\n                        { type: 'image/jpeg' },\n                    );\n\n                    // Continue processing with the converted image\n                    onImageUpload(convertedFile);\n                });\n\n                // Create a new File instance with the converted blob\n            } catch (error) {\n                console.error('Error converting HEIC image:', error);\n            }\n        } else {\n            onImageUpload(imageFile);\n        }\n    };\n\n    return (\n        <DragDropFiles onDrop={imageUploadHandler}>\n            <div className=\"menu\">\n                <div className=\"menu-entry\">\n                    <label htmlFor=\"file-upload\" className=\"clickable-button\">\n                        Upload an image\n                    </label>\n                    <input\n                        id=\"file-upload\"\n                        type=\"file\"\n                        accept=\"image/*, .heic\"\n                        onChange={(event) => {\n                            const myFile = event.target.files?.[0];\n                            if (!myFile) {\n                                return;\n                            }\n                            imageUploadHandler(myFile);\n                        }}\n                    />\n                </div>\n                <div className=\"menu-entry\">\n                    <label htmlFor=\"video-upload\" className=\"clickable-button\">\n                        Upload a video\n                    </label>\n                    <input\n                        id=\"video-upload\"\n                        type=\"file\"\n                        accept=\"video/*\"\n                        onChange={(event) => {\n                            const videoFile = event.target.files?.[0];\n                            if (!videoFile) {\n                                return;\n                            }\n                            onVideoUpload(videoFile);\n                        }}\n                    />\n                </div>\n                <SliderSection\n                    specs={specs}\n                    onSpecsChange={onSpecsChange}\n                    onResolutionChange={onResolutionChange}\n                    contrast={contrast}\n                    onContrastChange={onContrastChange}\n                />\n                <Dropdown\n                    label=\"palette\"\n                    options={asciiOptions}\n                    selectedOption={palette}\n                    onOptionChange={onPaletteChange}\n                />\n\n                <Dropdown\n                    label=\"font\"\n                    options={Fonts.map((font: Font) => ({ value: font, label: font }))}\n                    selectedOption={specs.fontFamily}\n                    onOptionChange={(font) => {\n                        onSpecsChange({ ...specs, fontFamily: font as Font });\n                    }}\n                />\n\n                <form>\n                    <div className=\"menu-entry\">\n                        <div className=\"checkboxes\">\n                            <label>\n                                <input\n                                    type=\"checkbox\"\n                                    checked={isColorInverted}\n                                    onChange={onColorInvertedToggle}\n                                />\n                                {'inverse?'}\n                            </label>\n                        </div>\n                    </div>\n                </form>\n\n                <div className=\"menu-entry\">\n                    <label htmlFor=\"clipboard-button\" className=\"clickable-button\">\n                        Save to clipboard\n                    </label>\n\n                    <button id=\"clipboard-button\" className=\"hidden-button\" onClick={onCopy}>\n                        {'save to clipboard'}\n                    </button>\n                </div>\n            </div>\n        </DragDropFiles>\n    );\n};\n\nexport const MenuContainer = (props: MenuContainerProps): ReactElement => {\n    const { specs, onAsciiChange, onSpecsChange } = props;\n\n    const [currentFile, setCurrentFile] = React.useState<File>();\n    const [isAsciiVideo, setIsAsciiVideo] = React.useState(false);\n    const [selectedPalette, setSelectedPalette] = React.useState<string | string[]>(ASCIICHARS[0]);\n    const [isColorInverted, setInvert] = React.useState(false);\n    const [contrast, setContrast] = React.useState(1);\n\n    const video = document.createElement('video');\n\n    // store greyscale so it can be a lookup table\n    const greyscale = React.useRef<number[][]>([]);\n\n    const updateAscii = ({\n        palette,\n        isColorInverted,\n        resolution,\n        file,\n        isVideo,\n        contrast,\n        resetLookups = false,\n    }: {\n        palette: string | string[];\n        isColorInverted: boolean;\n        resolution: number;\n        file: File | undefined;\n        isVideo: boolean;\n        contrast: number;\n        resetLookups?: boolean;\n    }) => {\n        if (!file) {\n            return;\n        }\n\n        if (isVideo) {\n            video.src = URL.createObjectURL(file);\n\n            processVideoFrames(\n                video,\n                palette,\n                resolution,\n                isColorInverted,\n                (frames) => onAsciiChange(frames, resolution),\n                contrast,\n            );\n        } else {\n            resizeImage({\n                file: file,\n                maxWidth: resolution,\n            }).then((canvas) => {\n                const context = canvas.getContext('2d', {\n                    willReadFrequently: true,\n                });\n                const data = context?.getImageData(0, 0, canvas.width, canvas.height);\n                if (!data) {\n                    return;\n                }\n\n                // avoid recalculating greyscale for each frame\n                if (resetLookups) {\n                    greyscale.current = getGreyscale(data);\n                }\n\n                const newAscii = getAsciiFromGreyscale(\n                    greyscale.current,\n                    palette,\n                    isColorInverted,\n                    contrast,\n                );\n\n                onAsciiChange(newAscii, resolution);\n                // TODO: this causes unnecessary state updates, but it makes the resolution change\n                // look smoothest. Maybe there's a better way to do this?\n                onSpecsChange({\n                    ...specs,\n                    resolution: resolution,\n                });\n            });\n        }\n    };\n\n    const debouncedOnResolutionChange = debounce((resolution: number) => {\n        updateAscii({\n            palette: selectedPalette,\n            isColorInverted,\n            resolution,\n            file: currentFile,\n            isVideo: isAsciiVideo,\n            contrast,\n            resetLookups: true,\n        });\n    }, 5);\n\n    const debouncedOnContrastChange = debounce((contrast: number) => {\n        setContrast(contrast);\n        updateAscii({\n            palette: selectedPalette,\n            isColorInverted,\n            resolution: specs.resolution,\n            file: currentFile,\n            isVideo: isAsciiVideo,\n            contrast,\n        });\n    }, 5);\n\n    return (\n        <Menu\n            {...props}\n            onResolutionChange={debouncedOnResolutionChange}\n            onImageUpload={(imageFile) => {\n                setIsAsciiVideo(false);\n                updateAscii({\n                    palette: selectedPalette,\n                    isColorInverted,\n                    resolution: specs.resolution,\n                    file: imageFile,\n                    isVideo: false,\n                    contrast,\n                    resetLookups: true,\n                });\n                setCurrentFile(imageFile);\n            }}\n            onVideoUpload={(videoFile) => {\n                setIsAsciiVideo(true);\n                updateAscii({\n                    palette: selectedPalette,\n                    isColorInverted,\n                    resolution: specs.resolution,\n                    file: videoFile,\n                    isVideo: true,\n                    contrast,\n                    resetLookups: true,\n                });\n                setCurrentFile(videoFile);\n            }}\n            palette={selectedPalette}\n            onPaletteChange={(newPalette) => {\n                setSelectedPalette(newPalette);\n                updateAscii({\n                    palette: newPalette,\n                    isColorInverted,\n                    resolution: specs.resolution,\n                    file: currentFile,\n                    isVideo: isAsciiVideo,\n                    contrast,\n                });\n            }}\n            isColorInverted={isColorInverted}\n            onColorInvertedToggle={() => {\n                setInvert(!isColorInverted);\n                updateAscii({\n                    palette: selectedPalette,\n                    isColorInverted: !isColorInverted,\n                    resolution: specs.resolution,\n                    file: currentFile,\n                    isVideo: isAsciiVideo,\n                    contrast,\n                });\n            }}\n            contrast={contrast}\n            onContrastChange={debouncedOnContrastChange}\n        />\n    );\n};\n","import React from 'react';\n\nexport const AsciiVideo = ({\n    asciiFrames,\n    frameRate = 10,\n}: {\n    asciiFrames: string[];\n    // the frame rate to play the video at (has nothing to do with video creation)\n    frameRate?: number;\n}): JSX.Element | null => {\n    if (asciiFrames.length == 0) {\n        return null;\n    }\n    const [currentFrameIndex, setCurrentFrameIndex] = React.useState(0);\n\n    React.useEffect(() => {\n        const interval = setInterval(() => {\n            setCurrentFrameIndex((prevIndex) => (prevIndex + 1) % asciiFrames.length);\n        }, 1000 / frameRate);\n\n        return () => clearInterval(interval);\n    }, [asciiFrames.length, frameRate]);\n\n    return <div>{asciiFrames[currentFrameIndex]}</div>;\n};\n","import './index.css';\nimport React from 'react';\nimport { MenuContainer as Menu } from './ui/Menu/Menu';\nimport { AsciiVideo } from './video/asciiVideo';\n\n//rewrite as enum?\n\nexport const Fonts = [\n    'Ibm Plex Mono',\n    'Azeret Mono',\n    'Space Mono',\n    'Roboto Mono',\n    'Courier New',\n    'Monaco',\n    'Arial',\n    'Helvetica',\n];\n\nexport type Font = (typeof Fonts)[number];\n\nexport interface SpecsState {\n    fontSize: number;\n    resolution: number;\n    width: number;\n    zoom: number;\n    weight: number;\n    fontFamily: Font;\n    kerning: number;\n    lineHeight: number;\n}\n\nconst App: React.FC = () => {\n    const [ascii, setAscii] = React.useState<string | string[]>('');\n    const [specs, setSpecs] = React.useState<SpecsState>({\n        fontSize: 30,\n        resolution: 100,\n        width: 700,\n        zoom: 1,\n        weight: 400,\n        fontFamily: 'Ibm Plex Mono',\n        kerning: 0,\n        lineHeight: 1,\n    });\n    console.log('specs', specs);\n\n    const lineHeight = 1000 / specs.resolution;\n\n    return (\n        <div className=\"flex-container\">\n            <Menu\n                specs={specs}\n                onSpecsChange={(specs: SpecsState) => setSpecs(specs)}\n                onAsciiChange={(ascii: string | string[]) => setAscii(ascii)}\n                onCopy={() => {\n                    navigator.clipboard.writeText(\n                        typeof ascii === 'string' ? ascii : JSON.stringify(ascii),\n                    );\n                }}\n            />\n            <pre>\n                <div\n                    className=\"ascii\"\n                    style={{\n                        fontSize: `${lineHeight * 1 * specs.zoom}px`,\n                        lineHeight: `${lineHeight * specs.zoom}px`,\n                        fontWeight: specs.weight,\n                        fontFamily: specs.fontFamily,\n                        letterSpacing: `${specs.kerning}px`,\n                    }}>\n                    {ascii !== '' ? (\n                        typeof ascii === 'string' ? (\n                            ascii\n                        ) : (\n                            <AsciiVideo asciiFrames={ascii} />\n                        )\n                    ) : (\n                        '{(-.-)/^'\n                    )}\n                </div>\n            </pre>\n        </div>\n    );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}